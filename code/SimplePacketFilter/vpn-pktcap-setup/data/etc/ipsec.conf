# ipsec.conf - strongSwan IPsec configuration file

# basic configuration

config setup
	# plutodebug="all"
	# crlcheckinterval=600
	# strictcrlpolicy=yes
	# cachecrls=yes
	# nat_traversal=yes
	# charonstart=yes
	#plutostart=yes
	#charondebug=4 # UNCOMMENT TO ENABLE DEBUGGING

# Add connections here.

# Sample VPN connections
conn mobile
        compress=no
	type=tunnel
	auto=add
	keyexchange=ikev1
	authby=xauthrsasig
	xauth=server
	left=%defaultroute
	leftid=@meddle.cs.washington.edu
	leftsourceip=10.11.101.101
	# lefsourceip=%config
	leftsubnet=0.0.0.0/0
	leftcert=MeddleServerCert.pem
	leftrsasigkey=%cert	
	right=%any
	leftfirewall=yes
	rightsourceip=10.11.1.2/24
	ikelifetime=999h
	lifetime=985h
	margintime=5h


conn androideap
        compress=no
	type=tunnel
	auto=add
	keyexchange=ikev2
	left=%defaultroute
	leftid=@meddle.cs.washington.edu
	leftsourceip=10.11.101.101
	leftsubnet=0.0.0.0/0
	leftcert=MeddleServerCert.pem
	leftauth=pubkey
	leftfirewall=yes
	right=%any
	rightsourceip=10.11.2.2/24
	rightauth=eap-mschapv2
	rightsendcert=never
	eap_identity=%any	
	ikelifetime=999h
	lifetime=985h
	margintime=5h


conn androidcert
        compress=no
        type=tunnel
        auto=add
        keyexchange=ikev2
        left=%defaultroute
        leftid=@meddle.cs.washington.edu
        leftsourceip=10.11.101.101
        leftsubnet=0.0.0.0/0
        leftcert=MeddleServerCert.pem
        leftauth=pubkey
        rightauth=pubkey
        leftfirewall=yes
        right=%any
        rightsourceip=10.11.3.2/24
        ikelifetime=999h
        lifetime=985h
        margintime=5h
