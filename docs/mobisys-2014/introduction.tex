\section{Introduction}
\label{sec:introduction}

%what is the problem area you are working in and why is it important? It is important to set the larger context here. Why is the problem of interest and importance to the larger community?

Middleboxes pervade today’s networks. They are typically deployed to protect devices, optimize 
performance and/or implement new services in a single network domain.
The middleboxes tend to be tuned to the needs of a single network, offering few options for 
dynamic, custom behavior on flows traversing the network. 
 For devices that are 
permanently connected such networks, the solution is perfectly reasonable. 

However, we increasingly access the Internet from mobile devices that connect to multiple network 
domains as we move about. These networks implement different middlebox features, and can frustrate 
users by applying policies that do not match with individual device and app needs. In this mobile 
environment, we currently have no way to understand what these policies are, to experiment with 
alternative policies to improve the user experience, or to deploy custom policies/features that are 
enforced regardless of which network the device is connected to.

% PG: I think this can be framed as a more radical paradigm shift from network-serving to user-serving middle boxes. 
% + the fact that this is for mobile + it is portable across networks.

%Middleboxes pervade today's Internet ecosystem. Enterprise networks contain appliances to 
%ensure privacy and security, service provider networks use middleboxes to enforce policies 
%and traffic engineering, and public-access networks use them for NAT and firewalling services. In all 
%of these cases, middleboxes primarily serve as general-purpose devices with little customization 
%for individual users or personal devices. 
%
%As mobile devices become the primary mode for user interaction with the Internet, this 
%per-network middlebox model is increasingly at odds with the needs of individual users. 
%A device may interact with several different 
%networks per day, from home WiFi to cell networks, business WiFi, and public access points. 
%Each network contains its own set of middleboxes, each with different policies, and with important 
%and often detrimental implications for the individual device or user. 
%For example, different access points provide different levels of encryption (or none at all), 
%exposing the user's private information to eavesdroppers. Some networks deploy transparent 
%caches and proxies, potentially changing how and when content is delivered in ways that 
%do not universally improve the user experience. In some cases, middleboxes enforce 
%content manipulation, blocking or traffic shaping to the detriment of users.

To address this problem, we propose an alternative to the per-network middlebox approach: we provide each 
mobile device with a single, personalizable middlebox that is present regardless of where and 
how it connects to the Internet. We rely on two key observations that enable our approach. First, 
software middleboxes and cloud computing services offer the opportunity to deploy and distribute large numbers 
of middlebox services quickly, easily and at scale~\cite{sherry:middleboxes} without 
the need to deploy hardware in homes~\cite{bismarck} or ISPs~\cite{morleysmiddleboxpaper}. Second, 
the vast majority of Interent-enabled mobile devices provide the ability to connect to a remote host over a virtual private 
network (VPN). By using a nearby VPN-based proxy in the cloud as an entry point to a device's software middlebox, we can 
establish a tunnel that is secure and that prevents other in-network middleboxes from interfering with 
device traffic (with the exception of wholesale blocking). 

Exploiting these two observations, we use VPNs to ensure that all of a mobile device's traffic is 
securely tunneled out of the access network (\wifi or cell) to a software middlebox running 
in the cloud. Once the traffic arrives at the software middlebox, we 
can enforce custom user- and device-specific policies. 

%record, block, shape and modify it according to user-specific policies before forwarding it 
%to the destination. 

This work 
makes XXX contributions. First, we build \meddle, a system that provides users with transparency 
and control % PG: Make these words more general
over all network traffic generated by their 
mobile devices. Second, we use \meddle as a vantage point to conduct measurement studies that inform 
middlebox applications that can meet a wide range of users' goals: identifying privacy leaks in mobile apps, detecting content 
manipulation and service differentiation in ISPs, and studying malicious mobile network activity. 
Third, we go beyond simple measurements to implement systems atop \meddle that improve 
privacy, block unwanted traffic, notify users of ISP interference and block malware. 
% PG: Flip 2&3 or merge
\meddle has been running since 
MONTH, 2012 and currently has XXX users participating in an IRB-approved study. 

One of the key advantages of \meddle is that it gives researchers the ability to experiment 
with new middlebox approaches on real user network flows. To convince users to adopt our 
system, we designed \meddle with a low barrier for deployment and strong incentives for 
user adoption. The system uses only existing device, app and network support without requiring 
any special privileges or custom mobile OSes. It is as simple to install as three taps 
on a mobile device. To encourage users to install \meddle, we current provide custom 
network filters (\eg device-wide ad blocking) and visualization/blocking of services leaking 
personally identifiable information (PII). We are developing additional services as incentives 
for users, including caching, device-wide SPDY connections and malware blocking.

As a software-based implementation with a low barrier for deployment and strong incentives for 
user adoption, \meddle provides researchers with a new, powerful platform for \emph{in situ} 
mobile-network research and experimentation. Currently researchers with new  
middlebox approaches to improve the user experience must test them in a lab environment or 
rely on ISPs or users to deploy new hardware/software -- a risky and costly proposition for 
most carriers. With \meddle, researchers 
can immediately deploy new meddleboxes (software middlebox modules) that interact with 
real users' mobile traffic. %in cloud data centers often located just outside each device's access network. 
This paper demonstrates the feasibility of this approach and explores several new opportunities 
for implementing network control.

There is a tension between user and ISP control of network traffic, and \meddle shifts the control 
toward the user. However, \meddle is not a wholesale replacement for existing middleboxes, nor do we intend it to permanently supersede 
in-network deployments and the policies they implement. Rather, researchers 
and developers can use \meddle test new ideas, understand the impact on both users and access networks, 
then co-design new in-network middlebox solutions that jointly optimize for both users and networks. 

%Though 
%the approach in this work is one extreme, we argue it is an important platform for advancing the 
%state of the art in network design by facilitating experimentation in today's networks, relying on only 
%existing network technologies and device support. 

The rest of the paper is organized as follows....

%Mobile systems consist of walled gardens inside gated communities, i.e., locked-down operating systems running on devices that interact over a closed and opaque mobile network. 
%Despite a large collection of privacy, policy and performance issues in mobile networks~\cite{enck:taintdroid,hornyack:appfence,speedtest,ma:edoctor,pathak:eprof,bickford:mobilemalware}, researchers are faced with few options to characterize and address them.
%
%\drc{Tell a good story here. Our work explores the opportunities for improving visibility and control in mobile networks when presented only with a network flow. We demonstrate this simple interface in enormously powerful -- it allows us to investigate and block privacy leakage, detect and avoid ISP interference/service differentiation and identify and remediate malicious third-party attacks -- all without modifying apps, the OS or infrastructure. }

%What is the specific problem considered in this paper? This paragraph narrows down the topic area of the paper. In the first paragraph you have established general context and importance. Here you establish specific context and background.
%Cannot mention user participation and crowd sourcing here because we have not achieved it in this work . 
%What we have here is a platform with a potential for user participation and preliminary results. 

%The key challenge is that mobile OSes and ISPs provide no built-in service to diagnose the network traffic generated by these applications. 
%\tbd{Why is this important? Why do we care?}.
%As a result, previous studies~\cite{vallina-rod:ads,gerber:passivespeed,chen:wifi,enck:taintdroid,wang:middleboxes,sommers:cellwifi} are constrained by at least one of the following: mobile OSes, access technology, device manufacturer, installed applications, and user behavior.
%In this work, we are the first to present an approach that compromises none of these, an approach that can be used across carriers, mobile devices, apps, and access technologies.
%
%\meddle redirects all Internet traffic through a software-defined middlebox for the purpose of analysis and interposition.
%Specifically, \meddle builds on the native support for VPN tunnels and HTTP proxies by mobile OSes to tunnel all the Internet traffic regardless of the access technology used by the device. 
%A shortcoming of this approach is that it compromises the fine grained view offered by existing solutions in favor of being user-friendly.
%
%In this paper, we use \meddle to test the limits to which traffic redirection can be used to diagnose mobile Internet traffic. \tbd{too weak also mobile Internet traffic needs to be rephrased.}. 
%The main contributions of this paper are as follows:
%\begin{packedenumerate}
%\item Platform for mobile diagnosis through network traffic analysis and control. Single server solution empowers users to install and configure them on home-gateways.
%Researchers can deploy them for measurement studies. 
%\item Controlled experiments using off-the-shelf Android and iOS devices. 
%\item Controlled experiments to analyze ISP interference in US and France. 
%\end{packedenumerate}
%
%The remainder of this paper is structured as follows.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "meddle-main"
%%% End: 

