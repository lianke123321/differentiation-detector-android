\section{Characterizing Mobile Traffic}
\label{sec:measurement-results}

\subsection{Dataset Description}
\label{sec:dataset-description}

- IRB based study from September 2012. 
- Full packet capture
- Currently serves 20 devices from 14 users, 8 Android, 12 iOS device,    
  4 iPads, 7 iPhones, and 1 iPod Touch.
  15 service providers spread across US and France.
- 30.2 GB of Traffic Volume from November 1, 2012

\subsection{Initial Results}
\label{sec:initial-results}

Objective  coverage of meddle across access technology and devices 

I plan to use these two tables to introduce the results in the
following sections.


\begin{table}
\begin{center}
\begin{tabular}{|l|l|r|r|r|r|}
\hline
\multirow{2}{*}{\bf Protocol} & \multirow{2}{*}{\bf Service} & \multicolumn{2}{|c|}{\bf Android} & \multicolumn{2}{|c|}{\bf iOS} \tabularnewline
\cline{3-6}
           &           &  \textbf{Flows}  &  \textbf{Bytes}  &  \textbf{Flows}  &  \textbf{Bytes}  \tabularnewline
\hline
 TCP       &  HTTP     &  14.87  &  74.31  &  16.07  &  82.01  \tabularnewline
\hline
TCP       &  SSL      &  37.19  &  24.35  &  37.64  &  17.31  \tabularnewline
\hline
 UDP       &  -        &  40.52  &   0.98  &  42.34  &   0.49  \tabularnewline
\hline
 TCP       &  other    &   2.08  &   0.22  &   1.13  &   1.89  \tabularnewline
\hline
 Other     &  -        &   5.35  &   0.14  &   2.82  &   0.09  \tabularnewline
\hline
\multicolumn{2}{|c|}{\emph{total}} & 100.00 & 100.00 & 100.00 & 100.00 \tabularnewline
\hline
\end{tabular}
\end{center}
\caption{Percentage of flows and bytes from iOS and Android devices. \tbd{Verify total 100
    for final results} \emph{SSL is responsible for the majority of
    TCP flows from iOS and Android devices.}} 
\label{tab:summaryIOSAndroidTraffic}
\end{table}

In \fref{tab:summaryIOSAndroidTraffic}.

We classify the IP flows as either TCP, UDP, or other; all IP flows
that cannot be classified as either TCP or UDP are classified as
other. We further classify TCP flows as either HTTP, SSL, or
other. The SSL flows include HTTPS, IMAP, and other services that rely
on SSL to secure the connection between the mobile client and the
remote server. TCP flows that are not classified
as either HTTP or SSL are classified as other.  

In our traces we observe that DNS is responsible for more 93.5\% of
the UDP flows. The rest of the flows are due to services such as
Skype which is not widely used by users in our dataset. 
%421310/449421 

HTTP is the dominant protocol of traffic. SSL flows outnumber the HTTP
flows however the bytes per SSL flow is significantly smaller than the
bytes per HTTP flow. This is because of the media content from
streaming sites such as YouTube and Netflix is streamed over HTTP. 

\begin{table}
\begin{center}
\begin{tabular}{|l|l|r|r|r|r|}
\hline
\multirow{2}{*}{\bf Protocol} & \multirow{2}{*}{\bf Service} & \multicolumn{2}{|c|}{\bf Wi-Fi} & \multicolumn{2}{|c|}{\bf Cellular} \tabularnewline
\cline{3-6}
           &           &  \textbf{Flows}  &  \textbf{Bytes}  &  \textbf{Flows}  &  \textbf{Bytes}  \tabularnewline
\hline
 TCP       &  HTTP     &  16.91  &  83.52  &  13.03  &  56.14  \tabularnewline
\hline
 TCP       &  SSL      &  38.18  &  15.83  &  36.14  &  41.42  \tabularnewline
\hline
UDP       &  -        &  41.43  &   0.49  &  41.56  &   1.67  \tabularnewline
\hline
TCP       &  other    &   1.38 &   0.16  &   1.95  &   0.4  \tabularnewline
\hline
Other     &  -        &   2.12  &  0.01  &   7.2  &   0.3  \tabularnewline
\hline
\multicolumn{2}{|c|}{\emph{total}} & 100.00 & 100.00 & 100.00 & 100.00 \tabularnewline
\hline
\end{tabular}
\end{center}
\caption{Percentage of flows and bytes using Wi-Fi and Cellular as access technology. \tbd{Verify total 100
    for final results} \emph{The share of SSL traffic over Cellular
    networks is larger than its share over Wi-Fi.}}  
\label{tab:summaryWifiCellularTraffic}
\end{table}


In \fref{tab:summaryWifiCellularTraffic}.

7.2 of cellular traffic classified as other is an artifact of our user base that includes
researchers who tend to troubleshoot connectivity issues using icmp packets.

Though the fraction of flows for HTTP over Wi-Fi and Cellular remain
the same, the byte shares are different. This is because Wi-Fi is the
prefered medium to transfer media content. The flows that transfer media content
typically have more bytes compared to flows that do not contain media
content. 

SSL traffic is typically compressed - discussion on compression
opportunities for HTTP over Cellular networks refer to section ... for
more details. We can refer to this section to introduce
compression.

The increase in HTTP traffic over Wi-Fi is also because apps such as
Google Plus (image backup on Android) allow users to upload their
images only over Wi-Fi.


\subsection{Case Study Device Specific Apps - iOS Push}
\label{sec:case-study-ios}

text from Arnaud on iOS Push. How push works


When a push notification is received, the iOS device connects to port
5223 of a nearby Apple server. For each iOS device in our dataset we
logged the timestamp at which these connections were established. From
this set of connections we then selected the connections established
between midnight at 6 am of the users local time. For each user, we
computed the median of time interval between successive
connections. We observe this median to be in the range of 190 seconds
to 590 seconds. This time interval depends on the different apps for
which the user has enabled notifications. 

A user can disable notifications for specific time intervals on
devices running i0S 6. In our dataset, three devices had notification
disabled during different time intervals. During these time intervals
we did not observe any traffic serving notifications.


\subsection{Case Study Longitudinal Measurements - Google Search }
\label{sec:case-study-google}



% 1353489965.972204       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      1       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=a      -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       356     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489966.199133       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      2       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=aw     -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       321     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489966.471227       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      3       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awe    -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       300     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489966.881255       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      4       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awes   -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       301     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489967.365324       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      5       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=aweso  -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       302     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489968.001541       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      6       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awesom -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       303     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489968.303481       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      7       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awesome        -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       304     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489968.469449       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      8       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awesome+       -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       330     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489969.221635       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      9       GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awesome+t      -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       345     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489969.551634       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      10      GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awesome+to     -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       390     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -
% 1353489969.953698       7S1qUBBGGUg     24.19.59.238    45867   173.194.79.138  80      11      GET     suggestqueries.google.com       /complete/search?hl=en&ds=yt&client=androidyt&hjson=t&oe=UTF-8&q=awesome+to+    -       Apache-HttpClient/UNAVAILABLE (java 1.4)        0       383     200     OK      -       -       -       (empty) -       -       -       -       -       application/json; charset=UTF-8 chunked text/plain      -       -


\begin{table}
\begin{center}
\begin{tabular}{|c|c|l|}
\hline
Time & Bytes & Query \tabularnewline
 & Downloaded & String\tabularnewline
\hline 
1353489965.97 & 356 & a \tabularnewline
\hline
1353489966.19& 321 & aw\tabularnewline
\hline
1353489966.47& 300 & awe\tabularnewline
\hline
1353489966.88& 301 & awes\tabularnewline
\hline
1353489967.36& 302 & aweso\tabularnewline
\hline
\end{tabular}
\end{center}
\caption{Table}
\label{tab:ExampleGoogleSearch}
\end{table}
We now use Google search as an example of longitudinal studies that
are possible using using Meddle.

In \fref{tab:ExampleGoogleSearch} we present a sample search session on
Android 4.0. During this sesssion, we observe that each key stroke by
the user resulted in a unique GET query made to a Google server. We
observe similar behavior on Android 4.0, Android 4.1, and Android 4.2
\tbd{confirm}. In the case of iOS devices we observed search queries
in the clear on devices running i0S 5. On devices running iOS 6 we
observe that search queries take place over SSL. \tbd{Privacy similar
  to desktop sentence.}


\subsection{Case Study Filtering Intrusive Traffic}
\label{sec:case-study-filtering}

\subsection{Case Study Traffic Optimization - Compression}
\label{sec:case-study-compression}

\subsection{Case Study Suspicious Apps}
\label{sec:case-study-susp}

\subsection{Case Study Interference By Service Providers}
\label{sec:case-study-interf}








 




%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End: 
