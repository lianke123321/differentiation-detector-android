\section{Introduction}
\label{sec:introduction}

%% Justine: I adore this next sentence. Ashwin: I too and I want it in
%% the introduction
Mobile systems consist of walled gardens inside gated 
communities, \ie{}, locked-down operating systems running on 
devices that interact over a closed and opaque mobile network. 
Despite a large collection of privacy, policy and performance issues
in mobile networks~\cite{enck:taintdroid,hornyack:appfence,speedtest,eprof},
users and researchers are faced with few options to  
characterize and address them.

In this paper, we demonstrate that we can provide the necessary framework to
simultaneously address many of these issues for users and researchers by using
middleboxes accessible through virtual private network (VPN) tunnels, an approach we call
\meddle.  \meddle works for nearly all mobile devices out of the box:
Android, iOS, Windows 8 (non-ARM) and Blackberry all support VPNs, thus providing a
portable mechanism to tunnel traffic to servers outside of the
carriers' control regardless of the mobile device's network.  Once
packets arrive at VPN servers, we use a variety of software-middlebox~\cite{sherry:middleboxes}
approaches to transform traffic to and from mobile devices. Together, 
these features enable the following new opportunities for characterizing and 
controlling network traffic in the mobile environment.

First, \meddle provides a portable, pervasive, passively-gathered view of mobile network activity 
from mobile devices. It is portable in that VPNs work on nearly all 
devices and they capture traffic regardless of which carrier or access technology (\eg, 
cellular or \wifi) is being used. It is pervasive in that \meddle ensures a 
device's VPN is always connected when devices access the Internet, offering 
a comprehensive and continuous view of network traffic generated by devices. By tunneling traffic to a server we control, \meddle enables low-cost passive monitoring 
of traffic naturally generated by users, OSes and apps on their own devices.

Second, \meddle provides a new point of control over mobile 
network traffic. This  
enables researchers to investigate what-if scenarios for the 
impact of new middleboxes as if they were deployed in carrier 
networks. These include new app-accelerators, 
mobile-specific security filters and protocol manipulation 
to improve power consumption and data quota usage. Importantly, 
service providers and users can take advantage of these features 
without requiring any support from carriers or new OS-specific 
apps installed by users.

Last, \meddle facilitates participation from a large number of users, allowing 
us to characterize and evaluate mobile systems in the wild. It offers a low barrier to adoption -- 
on modern mobile OSes, users need only a few taps to install \meddle and 
once installed there is no maintenance required. Also, \meddle explicitly aligns the goals of researchers 
and users by offering free and easy-to-use services that include device-wide
ad-blocking, privacy/security filters and parental controls at the
network layer -- functionality that mobile network providers and OSes do not
currently make available. 

This paper provides the following key contributions. First, we describe the 
design and implementation of \meddle (Sec.~\ref{sec:goals}). We demonstrate the scalability and reasonable overheads of 
tunneling traffic from large numbers of mobile users through our servers (Sec.~\ref{sec:deploy}). 
Second, we present measurement results gathered from our initial deployment of \meddle  
comprising of 14 users interacting with the system for 30 days (Sec.~\ref{sec:measurement-results}). We use data collected from 
our IRB-approved study to highlight key advantages that our platform 
offers compared to previous work. Third, we describe several 
services that we built on top of \meddle (Sec.~\ref{sec:control}). Last, we must address the
additional security, trust and privacy concerns that arise when
tunneling traffic outside of carrier networks into a third-party
distributed service. We discuss these issues and others in
Section~\ref{sec:discussion}. We survey related work in Section~\ref{sec:rw} and 
conclude in Section~\ref{sec:conclusion}.

%While many of the technologies that enable \meddle are well understood, there
%are a variety of challenges and open questions we must address to
%ensure a solution that is practical both for end users and
%researchers. Importantly, we must design a VPN-server deployment that
%does more good than harm with respect to performance and power
%consumption so that we avoid a disincentive for usage
%(\S\ref{sec:eval}). In addition, we would like to investigate the
%extent to which we can enact optimizations that reduce page load
%times, improve security, reduce data consumption and potentially even
%conserve power -- all from a middlebox that resides neither on the
%device nor in the carrier's network. Finally, we must address the
%additional security, trust and privacy concerns that arise when
%tunneling traffic outside of carrier networks into a third-party
%distributed service. We discuss these issues and others in
%Section~\ref{sec:discuss}.

%% AR: I also want to add something about longitudinal studies. This
%% platform enables such studies. 

%% From the user perspective, the problem is that subscribers to mobile
%% networks have little control compared to what they have in their wired
%% access networks. For example, in the home network, users are
%% accustomed to the ability to install custom applications that change
%% application network usage (e.g., ad blocking) and to run home routers
%% that implement policies such as network access prioritization and
%% parental controls. In the mobile environment, however, users are
%% forced to interact with a single operating system tied to their
%% device, generally use closed-source apps provided for the OS that
%% routinely violate user privacy~\cite{hornyack:appfence}, and subscribe
%% to network providers that can (and do) transparently modify, block or
%% otherwise interfere with network traffic~\cite{wang:middleboxes}.
%% Users thus need a mechanism to take back control of how their devices
%% use the mobile networks they pay for.

%The lockdown of mobile devices places researchers in a similar bind.
%To characterize mobile traffic and design new protocols and
%services that are better tailored to the mobile environment, we would like a
%framework that allows us to intercept and potentially modify traffic
%generated by mobile devices as they move with users, regardless of the
%device, OS or carrier. However, implementing this functionality is
%difficult on mobile devices because it requires warranty-voiding
%techniques such as jail breaking to access and manipulate traffic at
%the network layer~\cite{enck:taintdroid}. Even when using such an
%approach, carriers may manipulate traffic once it leaves the mobile
%device~\cite{wang:middleboxes}, thus rendering some research
%impractical. Last, some protocols and services should be implemented
%in the network instead of the device (e.g., prefetching and security
%filters) but researchers generally have no ability to deploy such
%solutions.

%For example, studies such as those from TaintDroid researchers 
%and The New York Times highlighted the kinds of personally 
%identifiable information being leaked to app servers and third 
%parties from popular apps. The XXX study showed that mobile 
%carriers interfere with traffic by blocking ports and/or surreptitiously 
%responding to traffic on behalf of third party servers. Finally, 
%3GTest and SpeedTest studies provide insight into mobile 
%network performance but only at the time when a user initiates 
%a measurements. 



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End: 
